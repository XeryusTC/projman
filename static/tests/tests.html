<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Javascript tests</title>
	<link rel="stylesheet" href="../css/qunit-1.20.0.css">
	<link rel="stylesheet" href="../css/sidebar.css">
</head>

<body>
<div id="qunit"></div>

<div id="qunit-fixture">
	<a class="js-hide-sidebar">&#9776;</a>
	<div id="sidebar" style="display:none;"></div>

	<div class="action-item">
		<form onsubmit="return false"></form>
	</div>
</div>

<script src="https://code.jquery.com/jquery.min.js"></script>
<script src="http://code.jquery.com/qunit/qunit-1.20.0.js"></script>
<script src="http://sinonjs.org/releases/sinon-1.17.2.js"></script>
<script src="http://sinonjs.org/releases/sinon-qunit-1.0.0.js"></script>
<script src="../js/sidebar.js"></script>
<script src="../js/projects.js"></script>
<script>
test("Sidebar should be toggled when clicking hide button", function() {
	ok($('#sidebar').position().left >= 0);
	// Toggle off
	$('.js-hide-sidebar').trigger('click');
	ok($('#sidebar').position().left <= 200);
	// Toggle on
	$('.js-hide-sidebar').trigger('click');
	ok($('#sidebar').position().left >= 0);
});

test("Clicking an action-item should submit the form", function() {
	var spy = this.spy();
	$('.action-item form').submit(spy);

	$('.action-item').click();

	ok(spy.called);
});
</script>

</body>
</html>
